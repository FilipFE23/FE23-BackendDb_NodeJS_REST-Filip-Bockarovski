<%- include('partials/head') %>
<body>
  <%- include('partials/header') %>
  <% if (dataInfo === 'update student') { %> 
    <h2>Update student information by id:</h2>
    <form action="/students/update" method="POST">
      <label for="student_id">id:</label>
      <input type="text" name="student_id" id="student_id" required>
      <label for="fName">First name:</label>
      <input type="text" name="fName" id="fName" required>
      <label for="lName">Last name:</label>
      <input type="text" name="lName" id="lName" required>
      <label for="town">Town name:</label>
      <input type="text" name="town" id="town">
      <button type="submit">Update</button>
    </form>
  <% } else if (dataInfo === 'update course') { %>
    <h2>Update course information by id:</h2>
    <form action="/courses/update" method="POST">
      <label for="course_id">id:</label>
      <input type="text" name="course_id" id="course_id" required>
      <label for="namn">Course name:</label>
      <input type="text" name="name" id="name" required>
      <label for="description">Description:</label>
      <input type="text" name="description" id="description">
      <button type="submit">Update</button>
    </form>
  <% } else if (dataInfo === 'update students_courses') { %> 
    <h2>Update student course relation by id:</h2>
    <form action="/students_courses/update" method="POST">
      <label for="student_course_id">id:</label>
      <input type="text" name="student_course_id" id="student_course_id" required>
      <label for="studentsId">Student id:</label>
      <input type="text" name="studentsId" id="studentsId" required>
      <label for="coursesId">Course id:</label>
      <input type="text" name="coursesId" id="coursesId" required>
      <button type="submit">Update</button>
    </form>
  <% } %>
  <% if (dataInfo === 'update students_courses') { %>
    <div class="space">
      <div>
        <h3>Relations Table:</h3>
        <%- include('partials/dataTable') %>
  <% } else { %> 
    <%- include('partials/dataTable') %>
  <% } %>
    </div>
    <% if(typeof dbStudents != 'undefined') { %>
      <div>
        <h3>Students Table:</h3>
        <table>
          <thead>
            <tr>
              <% dbStudentsHeader.forEach( header => { %> 
                <th><%= header.Field; %></th>
              <% }); %>
            </tr>
          </thead>
          <tbody>
            <% dbStudents.forEach( row => { %>
              <tr>
                <% dbStudentsHeader.forEach(header => { %>
                  <td><%= row[header.Field]; %></td>
                <% }) %>
              </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    <% } %>
    <% if(typeof dbCourses != 'undefined') { %>
      <div>
        <h3>Courses Table:</h3>
        <table>
          <thead>
            <tr>
              <% dbCoursesHeader.forEach( header => { %> 
                <th><%= header.Field; %></th>
              <% }); %>
            </tr>
          </thead>
          <tbody>
            <% dbCourses.forEach( row => { %>
              <tr>
                <% dbCoursesHeader.forEach(header => { %>
                  <td><%= row[header.Field]; %></td>
                <% }) %>
              </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    <% } %>
  </div>
</body>
</html>